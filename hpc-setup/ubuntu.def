Bootstrap: docker
From: ubuntu:20.04

%runscript
    echo "Invoked inside the container in runtime."
    
%post
    #!/bin/bash
    
    echo "Invoked inside the container in buildtime\n"
    apt-get update
    echo ""
    
    ln -fs /usr/share/zoneinfo/Europe/Berlin /etc/localtime
    export DEBIAN_FRONTEND=noninteractive
    apt-get install -y tzdata
    dpkg-reconfigure --frontend noninteractive tzdata
    
    echo "Installing git...\n"
    apt-get -y install git
    echo ""
    
    echo "Cloning repository...\n"
    git clone https://DmitryMI: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@github.com/DmitryMI/MasterThesis
    echo ""
    
    echo "Running installation scripts...\n"
    cd MasterThesis/software-installation
    ./install_all.sh setvars_runtime.sh
    echo ""

